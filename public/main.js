function registerSW(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})}function displayLastRecord(e){document.querySelector("#cases").innerHTML=e.cases.imported+e.cases.community,document.querySelector("#date").innerHTML=new Date(1e3*e.date).toLocaleDateString("en-US"),document.querySelector("#update-num").innerHTML=e["update-num"]}function displayMedia(e){let t="";for(let n of e)t+=`\n        <div class="card">\n            <div class="card-content black-text">\n                <span class="card-title">Update #: ${n["update-num"]}</span>\n                <p>Date: ${new Date(1e3*n.date).toLocaleDateString("en-US")}</p>\n                <p>Tested: ${n.tested}</p>\n                <p>Contact: ${n.contact}</p>\n                <p>Imported Cases: ${n.cases.imported}</p>\n                <p>Community Cases: ${n.cases.community}</p>\n            </div>\n            <div class="card-action">\n                <a href="${n.url}" rel="noopener" target="_blank" style="font-weight: 700" class="red-text darken-2">View on Facebook</a>\n                <a href="#deleteModal" class="modal-trigger" style="font-weight: 700" class="red-text darken-2">Delete</a>\n            </div>\n        </div>\n        `;document.querySelector("#media-list").innerHTML=t}function fixAccessbility(){let e=document.querySelector(".highslide-container>img");e.setAttribute("alt","highslide container image"),e.setAttribute("aria-hidden",!0)}function main(){M.Tabs.init(document.querySelector(".tabs")),M.Modal.init(document.querySelectorAll(".modal"));let e=getReportHistory();displayLineChart(e);let t=e.reverse()[0];displayPieChart(t),displayLastRecord(t),displayMedia(e),fixAccessbility(),registerSW()}window.addEventListener("load",main);