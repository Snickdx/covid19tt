function displayLastRecord(e){document.querySelector("#cases").innerHTML=e.cases.positive,document.querySelector("#date").innerHTML=new Date(1e3*e.date).toLocaleDateString("en-US"),document.querySelector("#updateNum").innerHTML=e.id}function displayMedia(e,t){let a="";for(let s of e)a+=`\n        <div class="card">\n            <div class="card-content black-text">\n                <span class="card-title">Update #: ${s.id}</span>\n                <p>Date: ${new Date(1e3*s.date).toLocaleDateString("en-US")}</p>\n                <p>Tested: ${s.tested}</p>\n                <p>Current Positive Cases: ${s.cases.positive}</p>\n                <p>Total Deaths Cases: ${s.cases.deaths}</p>\n                <p>Total Discharged: ${s.cases.discharged}</p>\n                <p>Deaths: ${s.cases.deaths}</p>\n            </div>\n            <div class="card-action">\n                <a href="${s.url}" rel="noopener" target="_blank" style="font-weight: 700" class="red-text darken-2">View on Facebook</a>\n                <a href="#" class="deleteBtn red-text darken-2" onclick="deleteData(${s.id})" style="font-weight: 700; display:${t?"block":"none"}">Delete</a>\n            </div>\n        </div>\n        `;document.querySelector("#media-list").innerHTML=a}function convertToLineData(e){let t=[],a=[],s=[],i=[],o=[],n={},l=0;for(let d of e)d.date in n?(a[l-1]=d.tested,s[l-1]=d.cases.positive,i[l-1]=d.cases.deaths,o[l-1]=d.cases.discharged):(t.push(`Day ${l}`),a.push(d.tested),s.push(d.cases.positive),o.push(d.cases.discharged),i.push(d.cases.deaths),n[d.date]=!0,l++);return{categories:t,deaths:i,tested:a,positive:s,discharged:o}}function displayLineChart(e){let{categories:t,tested:a,positive:s,discharged:i,deaths:o}=convertToLineData(e),n={fontFamily:"monospace",color:"white",fontSize:"15px"},l={style:{fontSize:"15px"}};Highcharts.chart("linechart",{chart:{type:"line",backgroundColor:"transparent",height:"500px",scrollablePlotArea:{minWidth:600,scrollPositionX:0}},title:{text:void 0,style:n,useHtml:!0},tooltip:{pointFormat:"<b>{point.y} cases were {point.series.name}</b>"},xAxis:{categories:t,labels:{style:n}},yAxis:{title:{text:void 0,useHtml:!0,style:{color:"white",fontSize:"12px"}},labels:{enabled:!1}},plotOptions:{line:{dataLabels:{enabled:!0,style:{fontFamily:"monospace",color:"white"}},enableMouseTracking:!0}},legend:{itemStyle:{color:"white"}},series:[{name:"Positive",data:s,dataLabels:l,label:{enabled:!1}},{name:"Tested",data:a,dataLabels:l,label:{enabled:!1}},{name:"Deaths",data:o,dataLabels:l,label:{enabled:!1}},{name:"Discharged",data:i,dataLabels:l,label:{enabled:!1}}],responsive:{rules:[{condition:{maxWidth:"800px"},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}})}function displayPieChart({cases:e}){let t=[{name:"Positive",y:e.positive},{name:"Deaths",y:e.deaths},{name:"Dischagred",y:e.discharged}];Highcharts.chart("piechart",{chart:{plotBackgroundColor:"transparent",backgroundColor:"transparent",plotBorderWidth:null,plotShadow:!1,type:"pie",zoomType:"xy"},title:{text:void 0,style:{fontFamily:"monospace",color:"white",fontSize:"15px"},useHtml:!0},tooltip:{pointFormat:"<b>{point.y} cases {point.name}</b>"},accessibility:{point:{valueSuffix:"%"}},legend:{itemStyle:{color:"white"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:[{name:"Cases",colorByPoint:!0,data:t}]})}function displayData(e,t){displayLineChart(e);let a=e.reverse()[0];displayMedia(e,t),displayPieChart(a),displayLastRecord(a)}function monitorCollection(e,t){e.onSnapshot(e=>{let a=[];e.forEach(e=>{a.push(e.data())}),displayData(a,t)})}export{displayData,monitorCollection};